# Convert For You - Project Blueprint

## Vision
Create a multilingual, ad-supported web platform that converts between popular office and image formats. The product should prioritize speed, privacy, and a polished UX while remaining inexpensive to operate.

## Core Conversion Matrix
| From | To | Notes |
| --- | --- | --- |
| Word (`.docx`, `.doc`) | PDF | Preserve fonts/layout, handle password-protected docs.
| Excel (`.xlsx`, `.xls`) | PDF | Allow worksheet selection, fit-to-page options.
| PowerPoint (`.pptx`, `.ppt`) | PDF | Ensure slide backgrounds and animations flatten correctly.
| Image (`.png`, `.jpg`, `.webp`, `.heic`) | PDF | Support multi-image batching into one PDF.
| PDF | Word | Maintain text flow via OCR if necessary.
| PDF | Excel | Extract tabular data with structure awareness.
| PDF | Image | Export per-page images (`.png`, `.jpg`).
| PDF | Text | Hybrid extraction: native text + OCR fallback.
| PDF | PowerPoint | Reconstruct slides with layout detection.

## User Experience Requirements
1. **Zero-friction onboarding** – Drag-and-drop landing page, no sign-up required for base usage.
2. **Responsive design** – Focus on mobile conversions for users discovering via search.
3. **Progress visibility** – Real-time upload, conversion, and download progress bars.
4. **Queue handling** – Graceful messaging when workloads spike.
5. **Accessibility & localization** – WCAG AA compliance, support Korean/English first.

## Monetization
- **Display Ads**: Integrate Google AdSense or similar with A/B tested placements.
- **Premium Upsell**: Offer ad-free, faster queue, larger file limits via Stripe.
- **API Licenses**: Expose limited API endpoints for B2B partners once stable.

## Recommended Tech Stack
### Frontend
- **Framework**: Next.js (React) for SEO-friendly, static+SSR hybrid pages.
- **Styling**: Tailwind CSS + Headless UI for rapid and accessible components.
- **State Management**: React Query for API state + optimistic updates.
- **Internationalization**: next-i18next for Korean/English support.
- **Analytics**: Google Analytics 4 with consent banner.

### Backend
- **Language/Runtime**: Node.js (TypeScript) with NestJS for modular architecture.
- **File Handling**: Upload via pre-signed URLs to object storage (AWS S3 or Cloudflare R2).
- **Conversion Workers**: Containerized microservices using **LibreOffice**, **unoconv**, **ImageMagick**, **Ghostscript**, and **Tesseract OCR**. Queue with BullMQ + Redis.
- **API Gateway**: REST + WebSocket endpoints for job status.
- **Authentication**: JWT + session cookies for premium tier (via NextAuth).

### Infrastructure
- **Hosting**: Deploy frontend on Vercel, backend on AWS ECS Fargate or Fly.io.
- **Storage**: S3/R2 for files (short-lived), DynamoDB or PostgreSQL (RDS/Supabase) for metadata & user accounts.
- **Caching**: Redis (ElastiCache or Upstash) for queues and throttling.
- **CI/CD**: GitHub Actions running tests, linting, Docker builds, and vulnerability scans.
- **Monitoring**: Datadog or Grafana Cloud; structured logging with OpenTelemetry.

## High-Level Architecture
1. **Client Upload** → Signed URL generated by backend.
2. **Job Created** → Metadata stored (file type, target format, user tier).
3. **Worker Pool** pulls queued jobs, performs conversion via toolchain container.
4. **Result Stored** temporarily (24h) with download link.
5. **Notification** via WebSocket/polling to update client.
6. **Auto Clean-up** of temp files with lifecycle policies + cron jobs.

```
[Next.js UI] ⇄ [NestJS API] ⇄ [Redis Queue] ⇄ [Worker Containers]
                           ↓                   ↓
                         [Postgres]          [S3/R2]
```

## Security & Compliance
- Enforce HTTPS end-to-end; HSTS headers via CDN (Cloudflare).
- Virus scan uploads (ClamAV) before processing.
- Rate limiting & bot detection (Cloudflare Turnstile).
- Auto-delete files after 24h; document privacy policy compliant with GDPR/CCPA.
- Maintain audit logs for premium accounts.

## Roadmap
1. **MVP (4-6 weeks)**
   - Implement Word↔PDF and Image→PDF pipelines.
   - Set up queue infrastructure and simple dashboard.
   - Integrate ads on landing & result pages.
2. **Expansion (6-12 weeks)**
   - Add remaining conversions with quality tuning.
   - Launch premium tier with Stripe billing.
   - Add Korean localization, marketing landing pages.
3. **Optimization (ongoing)**
   - Experiment with GPU-enabled OCR for complex PDFs.
   - Introduce user accounts, history, and API access.

## Next Steps
- Validate conversion quality with sample corpus.
- Benchmark worker autoscaling (target <30s per conversion).
- Conduct keyword research for SEO targeting ("PDF 변환", "Word to PDF") and integrate blog content marketing.
- Design UI wireframes focusing on drag-and-drop flow and ad placement.
